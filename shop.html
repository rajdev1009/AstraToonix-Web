<!DOCTYPE html>
<html lang="hi">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <title>AstraToonix - Shop & Games</title>
    
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css">
    <link rel="stylesheet" href="https://unpkg.com/@chrisoakman/chessboardjs@1.0.0/dist/chessboard-1.0.0.min.css">
    <link rel="stylesheet" href="shop-style.css">
    
    <script src="https://code.jquery.com/jquery-3.5.1.min.js"></script>
    <script src="https://unpkg.com/@chrisoakman/chessboardjs@1.0.0/dist/chessboard-1.0.0.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/chess.js/0.10.2/chess.js"></script>
</head>
<body>

    <header>
        <div class="header-top">
            <a href="index.html" class="back-home-btn"><i class="fas fa-arrow-left"></i> Home</a>
            <div class="social-bar">
                <a href="https://instagram.com/" target="_blank" class="social-icon insta"><i class="fab fa-instagram"></i></a>
                <a href="https://facebook.com/" target="_blank" class="social-icon fb"><i class="fab fa-facebook-f"></i></a>
                <a href="https://youtube.com/@astratoonix" target="_blank" class="social-icon yt"><i class="fab fa-youtube"></i></a>
                
                <div onclick="toggleTheme()" class="social-icon theme-btn"><i id="themeIcon" class="fas fa-moon"></i></div>
                <a href="#" onclick="toggleGameModal()" class="social-icon game"><i class="fas fa-gamepad"></i></a>
            </div>
        </div>
        <div class="search-box">
            <input type="text" id="searchInput" placeholder="Search products...">
        </div>
    </header>

    <div id="heroSlider" class="hero-slider"></div>

    <div class="shop-container">
        <div class="filter-container">
            <span class="filter-btn active" onclick="filterProducts('all')">All</span>
            <span class="filter-btn" onclick="filterProducts('watch')">Watches</span>
            <span class="filter-btn" onclick="filterProducts('shoe')">Shoes</span>
            <span class="filter-btn" onclick="filterProducts('shirt')">Clothes</span>
            <span class="filter-btn" onclick="filterProducts('gadget')">Gadgets</span>
        </div>
        
        <h3 style="border-left: 4px solid #25D366; padding-left: 10px; margin-top: 15px;">Premium Collection</h3>
        <div class="product-grid" id="grid"></div>
    </div>

    <div id="notificationPopup" class="notification-popup">
        <img id="notifImg" src="" alt="Product">
        <div style="flex:1;">
            <span id="notifText" class="notify-text"></span>
            <span class="notify-time">Just now</span>
        </div>
    </div>

    <div class="chat-float-btn" onclick="toggleChatbot()">
        <img src="https://i.ibb.co/kY1Nyzs/1765464889401-2.jpg" alt="AI Chat">
    </div>

    <div class="chat-window hidden" id="chatWindow">
        <div class="chat-header">
            <span>ü§ñ Assistant</span>
            <i class="fas fa-times" onclick="toggleChatbot()" style="cursor:pointer;"></i>
        </div>
        <iframe src="https://high-rhinoceros-dminemraj-83bdb398.koyeb.app/" title="Chatbot"></iframe>
    </div>

    <div id="orderModal" class="modal-overlay hidden">
        <div class="modal-content">
            <div class="modal-header">
                <span><i class="fas fa-clipboard-check"></i> Order Details</span>
                <i class="fas fa-times" onclick="closeOrderModal()" style="cursor:pointer;"></i>
            </div>
            <div class="modal-body">
                <div class="order-form">
                    <div style="display:flex; justify-content:space-between; align-items:center; margin-bottom:10px;">
                        <h4 id="modalProductName" style="color:#25D366; margin:0;"></h4>
                        <span id="modalProductPrice" style="color:#aaa;"></span>
                    </div>
                    <div class="variant-row">
                        <select id="prodSize"><option>Size: Free Size</option><option>S</option><option>M</option><option>L</option><option>XL</option></select>
                        <select id="prodColor"><option>Color: As Shown</option><option>Black</option><option>White</option><option>Red</option></select>
                    </div>
                    <div class="qty-box">
                        <span style="color:#888;">Quantity:</span>
                        <div style="display:flex; gap:10px; align-items:center;">
                            <button class="qty-btn" onclick="updateQty(-1)">-</button>
                            <span id="qtyDisplay">1</span>
                            <button class="qty-btn" onclick="updateQty(1)">+</button>
                        </div>
                    </div>
                    <input type="text" id="custName" placeholder="‡§Ü‡§™‡§ï‡§æ ‡§®‡§æ‡§Æ ‡§≤‡§ø‡§ñ‡•á‡§Ç" required>
                    <textarea id="custAddress" placeholder="‡§™‡•Ç‡§∞‡§æ ‡§™‡§§‡§æ (House No, City, Pincode)" required></textarea>
                    <button class="confirm-btn" onclick="confirmOrder()">Confirm Order <i class="fab fa-whatsapp"></i></button>
                </div>
            </div>
        </div>
    </div>

    <div id="gameModal" class="modal-overlay hidden">
        <div class="modal-content" style="max-width: 450px;">
            <div class="modal-header">
                <span><i class="fas fa-gamepad"></i> Game Zone</span>
                <i class="fas fa-times" onclick="toggleGameModal()" style="cursor:pointer;"></i>
            </div>
            <div class="modal-body">
                <div id="gameMenu" style="text-align:center;">
                    <p>AI ‡§ï‡•á ‡§ñ‡§ø‡§≤‡§æ‡§´ ‡§ñ‡•á‡§≤‡•á‡§Ç:</p>
                    <button class="buy-btn" onclick="startGame('ttt')" style="margin-bottom:10px;">Tic Tac Toe</button>
                    <button class="buy-btn" onclick="startGame('chess')">Chess (Beta)</button>
                </div>
                <div id="tttGame" class="hidden">
                    <div class="ttt-board" id="tttBoard"></div>
                    <div id="tttStatus" style="text-align:center; margin:10px; color:var(--accent-color);">‡§Ü‡§™‡§ï‡§æ ‡§ü‡§∞‡•ç‡§®!</div>
                    <button class="buy-btn" onclick="showGameMenu()">Back</button>
                </div>
                <div id="chessGame" class="hidden">
                    <div id="myBoard" style="width: 100%"></div>
                    <button class="buy-btn" onclick="showGameMenu()" style="margin-top:10px;">Back</button>
                </div>
            </div>
        </div>
    </div>

    <script src="shop-data.js"></script>
    <script src="games.js"></script>
    <script src="shop-script.js"></script>
</body>
</html>
