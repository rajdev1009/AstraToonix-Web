<!DOCTYPE html>
<html lang="hi">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <title>AstraToonix - Shop & Games</title>
    
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css">
    <link rel="stylesheet" href="shop-style.css">
    <link rel="stylesheet" href="style.css">
    
    <link rel="stylesheet" href="https://unpkg.com/@chrisoakman/chessboardjs@1.0.0/dist/chessboard-1.0.0.min.css">
    <script src="https://code.jquery.com/jquery-3.5.1.min.js"></script>
    <script src="https://unpkg.com/@chrisoakman/chessboardjs@1.0.0/dist/chessboard-1.0.0.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/chess.js/0.10.2/chess.js"></script>
</head>
<body>

    <header>
        <div class="header-top">
            <a href="index.html" class="back-home-btn"><i class="fas fa-arrow-left"></i> Home</a>
            <div class="social-bar">
                <a href="#" class="social-icon" style="background:#333;"><i class="fas fa-shopping-cart"></i></a>
                <div onclick="toggleTheme()" class="social-icon theme-btn"><i id="themeIcon" class="fas fa-moon"></i></div>
                
                <div class="game-wrapper" onclick="toggleGameModal()">
                    <div class="social-icon game"><i class="fas fa-gamepad"></i></div>
                    <div class="discount-badge">Get Discount!</div>
                </div>

                <a href="https://youtube.com/@astratoonix?si=KBw-c3A1Y9y5TbdN" target="_blank" class="social-icon yt"><i class="fab fa-youtube"></i></a>
                <a href="https://www.instagram.com/itz_dminem_official43" target="_blank" class="social-icon insta"><i class="fab fa-instagram"></i></a>
                <a href="https://www.facebook.com/share/1Db4mRv1pj/" target="_blank" class="social-icon fb"><i class="fab fa-facebook-f"></i></a>
            </div>
        </div>
        <div class="search-box">
            <input type="text" id="searchInput" placeholder="Search products...">
        </div>
    </header>

    <div id="heroSlider" class="hero-slider"></div>

    <div class="shop-container">
        <div class="filter-container">
            <span class="filter-btn active" onclick="filterProducts('all')">All</span>
            <span class="filter-btn" onclick="filterProducts('watch')">Watches</span>
            <span class="filter-btn" onclick="filterProducts('shoe')">Shoes</span>
            <span class="filter-btn" onclick="filterProducts('shirt')">Clothes</span>
        </div>
        
        <h3 style="border-left: 4px solid #25D366; padding-left: 10px; margin-top: 15px;">Premium Collection</h3>
        <div class="product-grid" id="grid"></div>
    </div>

    <div id="notificationPopup" class="notification-popup">
        <img id="notifImg" src="" alt="Product">
        <div><span id="notifText" class="notify-text"></span><br><small style="color:#aaa;">Just now</small></div>
    </div>

    <div class="chat-float-btn" onclick="toggleChatbot()">
        <img src="https://i.ibb.co/kY1Nyzs/1765464889401-2.jpg" alt="AI Chat">
    </div>
    <div class="chat-window hidden" id="chatWindow">
        <div class="chat-header">
            <span>ðŸ¤– AstraToonix Bot</span>
            <i class="fas fa-times" onclick="toggleChatbot()" style="cursor:pointer;"></i>
        </div>
        <iframe src="https://high-rhinoceros-dminemraj-83bdb398.koyeb.app/" title="Chatbot"></iframe>
    </div>

    <div id="orderModal" class="modal-overlay hidden">
        <div class="modal-content">
            <div class="modal-header">
                <span><i class="fas fa-clipboard-check"></i> Order</span>
                <i class="fas fa-times" onclick="closeOrderModal()" style="cursor:pointer;"></i>
            </div>
            <div class="modal-body">
                <div class="order-form">
                    <h4 id="modalProductName" style="color:#25D366; margin:0 0 10px 0;">Product</h4>
                    <div style="display:flex; gap:10px;">
                        <select id="prodSize"><option>Free Size</option><option>S</option><option>M</option><option>L</option><option>XL</option><option>XXL</option></select>
                        <select id="prodColor"><option>As Shown</option><option>Black</option><option>White</option><option>Red</option><option>Blue</option></select>
                    </div>
                    <div class="qty-box">
                        <span>Quantity:</span>
                        <div style="display:flex; gap:10px; align-items:center;">
                            <button class="qty-btn" onclick="updateQty(-1)">-</button>
                            <span id="qtyDisplay">1</span>
                            <button class="qty-btn" onclick="updateQty(1)">+</button>
                        </div>
                    </div>
                    <input type="text" id="custName" placeholder="Name" required>
                    <textarea id="custAddress" placeholder="Full Address" required></textarea>
                    <button class="confirm-btn" onclick="confirmOrder()">Confirm Order <i class="fab fa-whatsapp"></i></button>
                </div>
            </div>
        </div>
    </div>

    <div id="gameModal" class="modal-overlay hidden">
        <div class="modal-content" style="border-color: #8e44ad;">
            <div class="modal-header" style="background:#8e44ad; color:white;">
                <span><i class="fas fa-gamepad"></i> Game Zone</span>
                <i class="fas fa-times" onclick="toggleGameModal()" style="cursor:pointer;"></i>
            </div>
            <div class="modal-body">
                <div id="gameMenu">
                    <p>Play & Win Discounts!</p>
                    <div class="game-selector">
                        <button class="btn-spin" onclick="startGame('spin')"><i class="fas fa-dharmachakra"></i> Spin & Win</button>
                        <button class="btn-ttt" onclick="startGame('ttt')"><i class="fas fa-times"></i> Tic Tac Toe</button>
                        <button class="btn-chess" onclick="startGame('chess')"><i class="fas fa-chess-knight"></i> Chess</button>
                    </div>
                </div>
                <div id="spinGame" class="hidden">
                    <h3>ðŸŽ¡ Spin for Discount</h3>
                    <div class="wheel-container"><div class="wheel-marker"></div><div class="wheel" id="theWheel"></div></div>
                    <div id="spinResult" style="font-weight:bold; color:#25D366; margin:10px 0;"></div>
                    <button class="confirm-btn" onclick="spinTheWheel()" id="spinBtn">SPIN</button>
                    <button class="btn-back" onclick="showGameMenu()">Back</button>
                </div>
                <div id="tttGame" class="hidden">
                    <h3>You (X) vs AI (O)</h3>
                    <div class="ttt-board" id="tttBoard"></div>
                    <div id="tttStatus" style="color:#25D366;">Your Turn</div>
                    <button class="btn-back" onclick="showGameMenu()">Back</button>
                </div>
                <div id="chessGame" class="hidden">
                    <h3>Chess (Beta)</h3>
                    <div id="myBoard"></div>
                    <button class="btn-back" onclick="showGameMenu()">Back</button>
                </div>
            </div>
        </div>
    </div>

    <script src="shop-data.js"></script>
    <script src="games.js"></script>
    <script src="shop-script.js"></script>
    <script src="script.js"></script>

</body>
</html>
